@model List<Core.Entities.Post>

<div class="text-center mb-4">
    <h1 class="display-4">Добро пожаловать в сервис!</h1>
    <p>Загрузить отчеты</p>
</div>

@if (User.IsInRole("Admin") || User.IsInRole("PEB") || User.IsInRole("OBUnF"))
{
    <div class="card mb-4">
        <div class="card-body">
            <form asp-action="AddPost" method="post">
                <div class="mb-2">
                    <input type="text" name="header" class="form-control" placeholder="Заголовок" />
                </div>
                <div class="mb-2">
                    <textarea name="text" class="form-control" placeholder="Сообщение" rows="3"></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Опубликовать</button>
            </form>
        </div>
    </div>
}

@foreach (var post in Model)
{
    <div class="card mb-3">
        <div class="card-header">
            <strong>@(post.PostHeader ?? "(Без заголовка)")</strong>
            <span class="text-muted float-end">@post.PostDate.ToString("dd.MM.yyyy HH:mm")</span>
        </div>
        <div class="card-body">
            <p>@post.PostText</p>
        </div>
    </div>
}